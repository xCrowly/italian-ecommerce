import { NextResponse } from 'next/server';

// Mock product data with real clothing images from remote CDN
const products = [
  {
    id: '1',
    name: 'Elegante Giacca in Pelle Italiana',
    price: 299.99,
    image: 'https://images.unsplash.com/photo-1551028719-00167b16eac5?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 128,
    isFeatured: true,
  },
  {
    id: '2',
    name: 'Camicia di Lino Premium',
    price: 89.99,
    image: 'https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 89,
    isFeatured: true,
  },
  {
    id: '3',
    name: 'Abito Sartoriale Italiano',
    price: 599.99,
    image: 'https://images.unsplash.com/photo-1594938298603-c8148c4dae35?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 156,
    isFeatured: true,
  },
  {
    id: '4',
    name: 'Maglione in Cashmere',
    price: 199.99,
    image: 'https://images.unsplash.com/photo-1631541909061-71e349d1f203?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 67,
    isFeatured: false,
  },
  {
    id: '5',
    name: 'Pantaloni in Lana Vergine',
    price: 145.99,
    image: 'https://images.unsplash.com/photo-1473966968600-fa801b869a1a?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 92,
    isFeatured: true,
  },
  {
    id: '6',
    name: 'Scarpe in Pelle Artigianali',
    price: 249.99,
    image: 'https://images.unsplash.com/photo-1449505278894-297fdb3edbc1?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 45,
    isFeatured: false,
  },
  {
    id: '7',
    name: 'Cintura in Pelle Premium',
    price: 79.99,
    image: 'https://images.unsplash.com/photo-1553981834-a23f5b69e3ec?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 78,
    isFeatured: false,
  },
  {
    id: '8',
    name: 'Cappotto in Lana Merino',
    price: 399.99,
    image: 'https://images.unsplash.com/photo-1539533113208-f6df8cc8b543?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 34,
    isFeatured: true,
  },
  {
    id: '9',
    name: 'Cravatta in Seta',
    price: 59.99,
    image: 'https://images.unsplash.com/photo-1589756823695-278bc923f962?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 112,
    isFeatured: false,
  },
  {
    id: '10',
    name: 'Camicia da Sera Elegante',
    price: 129.99,
    image: 'https://images.unsplash.com/photo-1604695573706-53170668f6a6?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 89,
    isFeatured: false,
  },
  {
    id: '11',
    name: 'Mocassini in Pelle Scamosciata',
    price: 189.99,
    image: 'https://images.unsplash.com/photo-1614252235316-8c857d38b5f4?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 56,
    isFeatured: false,
  },
  {
    id: '12',
    name: 'Blazer in Lana',
    price: 279.99,
    image: 'https://images.unsplash.com/photo-1555069519-127aadedf1ee?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 73,
    isFeatured: false,
  },
  {
    id: '13',
    name: 'Polo in Cotone Pima',
    price: 69.99,
    image: 'https://images.unsplash.com/photo-1598033129183-c4f50c736f10?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 95,
    isFeatured: false,
  },
  {
    id: '14',
    name: 'Cardigan in Cashmere',
    price: 229.99,
    image: 'https://images.unsplash.com/photo-1516762689617-e1cffcef479d?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 41,
    isFeatured: false,
  },
  {
    id: '15',
    name: 'Pantaloni Chino Eleganti',
    price: 119.99,
    image: 'https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 88,
    isFeatured: false,
  },
  {
    id: '16',
    name: 'Stivali in Pelle',
    price: 289.99,
    image: 'https://images.unsplash.com/photo-1638247025967-b4e38f787b76?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 64,
    isFeatured: false,
  },
  {
    id: '17',
    name: 'Gemelli in Argento',
    price: 89.99,
    image: 'https://images.unsplash.com/photo-1618403088890-3d9ff6f4c8b1?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 29,
    isFeatured: false,
  },
  {
    id: '18',
    name: 'Foulard in Seta',
    price: 79.99,
    image: 'https://images.unsplash.com/photo-1584030373081-f37b7bb4fa8e?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 47,
    isFeatured: false,
  },
  {
    id: '19',
    name: 'Gilet in Lana',
    price: 159.99,
    image: 'https://images.unsplash.com/photo-1507679799987-c73779587ccf?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 83,
    isFeatured: false,
  },
  {
    id: '20',
    name: 'Portafoglio in Pelle',
    price: 119.99,
    image: 'https://images.unsplash.com/photo-1627123424574-724758594e93?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 71,
    isFeatured: false,
  },
  {
    id: '21',
    name: 'Camicia Oxford',
    price: 99.99,
    image: 'https://images.unsplash.com/photo-1596755094514-f87e34085b2c?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 58,
    isFeatured: false,
  },
  {
    id: '22',
    name: 'Cappello in Feltro',
    price: 89.99,
    image: 'https://images.unsplash.com/photo-1514327605112-b887c0e61c0a?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 36,
    isFeatured: false,
  },
  {
    id: '23',
    name: 'Bretelle in Pelle',
    price: 69.99,
    image: 'https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 42,
    isFeatured: false,
  },
  {
    id: '24',
    name: 'Smoking Elegante',
    price: 799.99,
    image: 'https://images.unsplash.com/photo-1555069519-127aadedf1ee?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 91,
    isFeatured: false,
  },
  {
    id: '25',
    name: 'Papillon in Seta',
    price: 49.99,
    image: 'https://images.unsplash.com/photo-1589756823695-278bc923f962?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 63,
    isFeatured: false,
  },
  {
    id: '26',
    name: 'Occhiali da Sole Premium',
    price: 199.99,
    image: 'https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 77,
    isFeatured: false,
  },
  {
    id: '27',
    name: 'Guanti in Pelle',
    price: 89.99,
    image: 'https://images.unsplash.com/photo-1584208124888-3a20b9c799e5?w=500&auto=format&fit=crop&q=60',
    rating: 4,
    reviewCount: 52,
    isFeatured: false,
  },
  {
    id: '28',
    name: 'Sciarpa in Cashmere',
    price: 129.99,
    image: 'https://images.unsplash.com/photo-1584030373081-f37b7bb4fa8e?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 68,
    isFeatured: false,
  },
  {
    id: '29',
    name: 'Borsa Ventiquattrore',
    price: 349.99,
    image: 'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 84,
    isFeatured: false,
  },
  {
    id: '30',
    name: 'Orologio di Lusso',
    price: 999.99,
    image: 'https://images.unsplash.com/photo-1587836374828-4dbafa94cf0e?w=500&auto=format&fit=crop&q=60',
    rating: 5,
    reviewCount: 96,
    isFeatured: false,
  }
];

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url);
  const page = parseInt(searchParams.get('page') || '1');
  const limit = parseInt(searchParams.get('limit') || '12');
  
  const start = (page - 1) * limit;
  const end = start + limit;
  
  const paginatedProducts = products.slice(start, end);
  const totalPages = Math.ceil(products.length / limit);
  
  return NextResponse.json({
    products: paginatedProducts,
    pagination: {
      currentPage: page,
      totalPages,
      totalItems: products.length,
      itemsPerPage: limit
    }
  });
} 